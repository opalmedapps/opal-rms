<div class="labs-modal-header">
    <h3 class="modal-title">{{patient.LastName}}, {{patient.FirstName}} ({{patient.Mrn +"-"+ patient.Site}})<div style="float:right">Age:{{patient.Age}} Sex:{{patient.Sex}}</div></h3>
    <h2 style="font-weight: bold; text-decoration: underline; text-align: center;">Lab Results</h2>
</div>

<div class="labs-modal-body" ng-init="addScrollFunc()">
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th ng-click="sortType = 'test_group_name'; sortReverse = !sortReverse">
                    Test Group Name
                    <span class="sort-arrow" ng-class="{'asc': sortType == 'test_group_name' && !sortReverse, 'desc': sortType == 'test_group_name' && sortReverse}"></span>
                </th>
                <th ng-click="sortType = 'test_component_name'; sortReverse = !sortReverse">
                    Test Component
                    <span class="sort-arrow" ng-class="{'asc': sortType == 'test_component_name' && !sortReverse, 'desc': sortType == 'test_component_name' && sortReverse}"></span>
                </th>
                <th ng-click="sortType = 'specimen_collected_date'; sortReverse = !sortReverse">
                    Specimen Collected Datetime
                    <span class="sort-arrow" ng-class="{'asc': sortType == 'specimen_collected_date' && !sortReverse, 'desc': sortType == 'specimen_collected_date' && sortReverse}"></span>
                </th>
                <th>Test Value</th>
                <th>Units</th>
                <th>Normal Range</th>
                <th>Abnormal Flag</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="lab in patientLabsList | orderBy:sortType:sortReverse">
                <td>{{ lab.test_group_name }}</td>
                <td>{{ lab.test_component_name }}</td>
                <td>{{ lab.specimen_collected_date_formatted }}</td>
                <td>{{ lab.test_value }}</td>
                <td>{{ lab.test_units }}</td>
                <td>{{ lab.min_norm_range }} - {{ lab.max_norm_range }}</td>
                <td>{{ lab.abnormal_flag }}</td>
            </tr>
        </tbody>
    </table>

    <!-- Pagination -->
    <div ng-if="patientLabsList.total() > 0" class="ng-table-pagination">
        <pagination total-items="patientLabsList.total()" ng-model="patientLabsList.page()" max-size="5" class="pagination-sm" boundary-links="true" rotate="false" num-pages="numPages"></pagination>
    </div>
</div>


<div class="modal-footer"">
    <button class="btn btn-primary" style="float:left" ng-click="back()">Back</button>
</div>
